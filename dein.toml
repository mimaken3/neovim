[[plugins]]
repo = 'Shougo/dein.vim'

# Git
[[plugins]]
repo = 'tpope/vim-fugitive'
hook_add = '''
nnoremap <silent> gs :Gstatus<CR><C-w>T
nnoremap <silent> ga :Gwrite<CR><C-w>T
nnoremap <silent> gb :GBlame<CR><C-w>T
nnoremap <silent> gps :Gpush<CR>
nnoremap <silent> gpl :Gpull<CR>
'''

# ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
[[plugins]]
repo = 'tomtom/tcomment_vim'

# ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
[[plugins]]
repo = 'Shougo/denite.nvim'
hook_add = '''
'''

# ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
[[plugins]]
repo = 'ctrlpvim/ctrlp.vim'

# è‡ªå‹•ã‚«ãƒƒã‚³
[[plugins]]
repo = 'tpope/vim-surround'

# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãªãŒã‚‰ä¸€æ‹¬ç½®æ›
[[plugins]]
repo = 'osyo-manga/vim-over'
hook_add = '''
nnoremap <silent><Leader>s :OverCommandLine<CR>
'''

# ãƒ„ãƒªãƒ¼è¡¨ç¤º
[[plugins]]
repo = 'preservim/nerdtree'
hook_add = '''
  nnoremap <silent><C-t> :NERDTreeToggle<CR>
'''

# codic (ãƒãƒ¼ãƒŸãƒ³ã‚°è¾æ›¸)
[[plugins]]
repo = 'koron/codic-vim'

# ãƒ–ãƒ­ãƒƒã‚¯ã®ç§»å‹•
[[plugins]]
repo = 't9md/vim-textmanip'
hook_add = '''
xmap <Space>d <Plug>(textmanip-duplicate-down)
nmap <Space>d <Plug>(textmanip-duplicate-down)
xmap <Space>D <Plug>(textmanip-duplicate-up)
nmap <Space>D <Plug>(textmanip-duplicate-up)
 
xmap <C-j> <Plug>(textmanip-move-down)
xmap <C-k> <Plug>(textmanip-move-up)
xmap <C-h> <Plug>(textmanip-move-left)
xmap <C-l> <Plug>(textmanip-move-right)
'''

[[plugins]]
repo = 'roxma/nvim-yarp'

[[plugins]]
repo = 'roxma/vim-hug-neovim-rpc'

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ãªã©ã‚’ã‚ªã‚·ãƒ£ãƒ¬ã«ã™ã‚‹
[[plugins]]
repo = 'vim-airline/vim-airline'
hook_add = '''
" Powerlineç³»ãƒ•ã‚©ãƒ³ãƒˆã‚’åˆ©ç”¨ã™ã‚‹
set laststatus=2
let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#buffer_idx_mode = 1
let g:airline#extensions#whitespace#mixed_indent_algo = 1
let g:airline_theme = 'molokai'

if !exists('g:airline_symbols')
  let g:airline_symbols = {}
endif

" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.crypt = 'ğŸ”’'
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.maxlinenr = 'â˜°'
let g:airline_symbols.maxlinenr = ''
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.spell = 'ê¨'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.whitespace = 'Î'

" powerline symbols
let g:airline_left_sep = 'î‚°'
let g:airline_left_alt_sep = 'î‚±'
let g:airline_right_sep = 'î‚²'
let g:airline_right_alt_sep = 'î‚³'
let g:airline_symbols.branch = 'î‚ '
let g:airline_symbols.readonly = 'î‚¢'
let g:airline_symbols.linenr = 'î‚¡'

" old vim-powerline symbols
" let g:airline_left_sep = 'â®€'
" let g:airline_left_alt_sep = 'â®'
let g:airline_right_sep = 'â®‚'
let g:airline_right_alt_sep = 'â®ƒ'
" let g:airline_symbols.branch = 'â­ '
" let g:airline_symbols.readonly = 'â­¤'
" let g:airline_symbols.linenr = 'â­¡'
'''

[[plugins]]
repo = 'vim-airline/vim-airline-themes'

# ä¿å­˜ã—ãŸã‚‰é™çš„è§£æ
 [[plugins]]
 repo = 'scrooloose/syntastic'
 hook_add = '''
 let g:syntastic_mode_map = {
   \ "mode" : "active",
  \ "active_filetypes" : ["go"],
 \}
 let g:syntastic_go_checkers = ['go', 'golint', 'govet']
 let g:go_fmt_autosave = 1
 let g:syntastic_aggregate_errors = 1
 augroup GoSaveHook
 autocmd!
 autocmd BufWritePre *.go GoImports
 augroup END
 '''

# Golangã®è£œå®Œã‚„é™çš„è§£æ
 [[plugins]]
repo = 'fatih/vim-go'
hook_add = '''
  " ä¿å­˜æ™‚ã«å¿…è¦ãªimportã‚’è‡ªå‹•çš„ã«æŒ¿å…¥
  let g:go_fmt_command = "goimports"
   " LSPã«ä»»ã›ã‚‹æ©Ÿèƒ½ã‚’OFFã«ã™ã‚‹
"   let g:go_def_mapping_enabled = 0  
 "  let g:go_doc_keywordprg_enabled = 0 
   let g:go_def_mapping_enabled = 1  
   let g:go_doc_keywordprg_enabled = 1 

  " disable vim-go's autocompletion feature
   let g:go_code_completion_enabled = 0
  " GoRunã‚„GoTestæ™‚ã«ä¸Šä¸‹ã«ç”»é¢åˆ†å‰²ã‚’è¡Œã†
  let g:go_term_mode = 'split'

  " ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
  " leaderã¯ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥\
  autocmd FileType go nmap <leader>b <Plug>(go-build)
  autocmd FileType go nmap <leader>d <Plug>(go-def)
  autocmd FileType go nmap <leader>p <Plug>(go-def-pop)
  autocmd FileType go nmap <leader>t <Plug>(go-test)

  " let mapleader = "\<Space>"
  autocmd FileType go nmap <leader>s <Plug>(go-def-split)
  autocmd FileType go nmap <leader>v <Plug>(go-def-vertical)
  " autocmd FileType go nmap <leader>r  <Plug>(go-run)

  " GoRunã—ãŸã¨ãã€å‡ºåŠ›çµæœç”»é¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
  " execute the whole project
  nnoremap <silent><Leader>r :split term://go run *.go<CR>
  " execute current file
  nnoremap <silent><Leader>r :split term://go run %<CR>
'''

# Golang ãƒ‡ãƒãƒƒã‚°
[[plugins]]
repo = 'sebdah/vim-delve'
hook_add = '''
autocmd FileType go nmap <silent> ;b :DlvToggleBreakpoint<CR>
autocmd FileType go nmap <silent> ;r :DlvDebug<CR>
autocmd FileType go nmap <silent> ;c :DlvClearAll<CR>
'''

# Golang ã‚¹ãƒ‹ãƒšãƒƒãƒˆä½œæˆ(ã€Œfn + tabã€ã§ã€Œfmt.Println("")ã€ãªã©)
[[plugins]]
repo = 'SirVer/ultisnips'

[[plugins]]
repo = 'Shougo/deoplete.nvim'

[[plugins]]
repo = 'deoplete-plugins/deoplete-go'

[[plugins]]
repo = 'mdempsky/gocode'

# Golangã®é™çš„è§£æ(å…¥åŠ›ã¨åŒæ™‚ã«è§£æ)
# [[plugins]]
# repo = 'autozimu/LanguageClient-neovim'
# build = 'bash install.sh'
# rev = 'next'
# hook_add = '''
#   set hidden
#   let g:LanguageClient_serverCommands = {
#       \ 'go': ['gopls']
#       \ }
#   let g:LanguageClient_loadSettings = 1
#   nnoremap <silent> K :call LanguageClient#textDocument_hover()<CR>
#   nnoremap <silent> gd :call LanguageClient#textDocument_definition()<CR>
# '''

# é–‰ã˜ã‚«ãƒƒã‚³è‡ªå‹•è£œå®Œ
[[plugins]]
repo = 'cohama/lexima.vim'

# Vimä¸Šã§æ–‡å­—åˆ—æ¤œç´¢
[[plugins]]
repo = 'rking/ag.vim'
hook_add = '''
'''

# Golangè£œå®Œ[[plugin]]
[[plugins]]
repo = 'neoclide/coc.nvim'
build = './install.sh nightly'
hook_add = '''
" TextEdit might fail if hidden is not set.
set hidden

" Some servers have issues with backup files, see #649.
set nobackup
set nowritebackup

" Give more space for displaying messages.
set cmdheight=2

" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable
" delays and poor user experience.
set updatetime=300

" Don't pass messages to |ins-completion-menu|.
set shortmess+=c

" Always show the signcolumn, otherwise it would shift the text each time
" diagnostics appear/become resolved.
set signcolumn=yes

" Use tab for trigger completion with characters ahead and navigate.
" NOTE: Use command ':verbose imap <tab>' to make sure tab is not mapped by
" other plugin before putting this into your config.
inoremap <silent><expr> <TAB>
      \ pumvisible() ? "\<C-n>" :
      \ <SID>check_back_space() ? "\<TAB>" :
      \ coc#refresh()
inoremap <expr><S-TAB> pumvisible() ? "\<C-p>" : "\<C-h>"

function! s:check_back_space() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction

" Use <c-space> to trigger completion.
inoremap <silent><expr> <c-space> coc#refresh()

" Use <cr> to confirm completion, `<C-g>u` means break undo chain at current
" position. Coc only does snippet and additional edit on confirm.
if exists('*complete_info')
  inoremap <expr> <cr> complete_info()["selected"] != "-1" ? "\<C-y>" : "\<C-g>u\<CR>"
else
  imap <expr> <cr> pumvisible() ? "\<C-y>" : "\<C-g>u\<CR>"
endif

" Use `[g` and `]g` to navigate diagnostics
nmap <silent> [g <Plug>(coc-diagnostic-prev)
nmap <silent> ]g <Plug>(coc-diagnostic-next)

" GoTo code navigation.
nmap <silent> gd <Plug>(coc-definition)
nmap <silent> gy <Plug>(coc-type-definition)
nmap <silent> gi <Plug>(coc-implementation)
nmap <silent> gr <Plug>(coc-references)

" Use K to show documentation in preview window.
nnoremap <silent> K :call <SID>show_documentation()<CR>

" ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã¨ãå¤‰ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã®ã§ã‚³ãƒ¡ãƒ³ãƒˆ
" function! s:show_documentation()
"   if (index(['vim','help'], &filetype) >= 0)
"    execute 'h '.expand('<cword>')
"   else
"     call CocAction('doHover')
"   endif
" endfunction

" Highlight the symbol and its references when holding the cursor.
autocmd CursorHold * silent call CocActionAsync('highlight')

" Symbol renaming.
nmap <leader>rn <Plug>(coc-rename)

" Formatting selected code.
xmap <leader>f  <Plug>(coc-format-selected)
nmap <leader>f  <Plug>(coc-format-selected)

augroup mygroup
  autocmd!
  " Setup formatexpr specified filetype(s).
  autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')
  " Update signature help on jump placeholder.
  autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')
augroup end

" Applying codeAction to the selected region.
" Example: `<leader>aap` for current paragraph
xmap <leader>a  <Plug>(coc-codeaction-selected)
nmap <leader>a  <Plug>(coc-codeaction-selected)

" Remap keys for applying codeAction to the current line.
nmap <leader>ac  <Plug>(coc-codeaction)
" Apply AutoFix to problem on the current line.
nmap <leader>qf  <Plug>(coc-fix-current)

" Introduce function text object
" NOTE: Requires 'textDocument.documentSymbol' support from the language server.
xmap if <Plug>(coc-funcobj-i)
xmap af <Plug>(coc-funcobj-a)
omap if <Plug>(coc-funcobj-i)
omap af <Plug>(coc-funcobj-a)

" Use <TAB> for selections ranges.
" NOTE: Requires 'textDocument/selectionRange' support from the language server.
" coc-tsserver, coc-python are the examples of servers that support it.
nmap <silent> <TAB> <Plug>(coc-range-select)
xmap <silent> <TAB> <Plug>(coc-range-select)

" Add `:Format` command to format current buffer.
command! -nargs=0 Format :call CocAction('format')

" Add `:Fold` command to fold current buffer.
command! -nargs=? Fold :call     CocAction('fold', <f-args>)

" Add `:OR` command for organize imports of the current buffer.
command! -nargs=0 OR   :call     CocAction('runCommand', 'editor.action.organizeImport')

" Add (Neo)Vim's native statusline support.
" NOTE: Please see `:h coc-status` for integrations with external plugins that
" provide custom statusline: lightline.vim, vim-airline.
set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}

" Mappings using CoCList:
" Show all diagnostics.
nnoremap <silent> <space>a  :<C-u>CocList diagnostics<cr>
" Manage extensions.
nnoremap <silent> <space>e  :<C-u>CocList extensions<cr>
" Show commands.
nnoremap <silent> <space>c  :<C-u>CocList commands<cr>
" Find symbol of current document.
nnoremap <silent> <space>o  :<C-u>CocList outline<cr>
" Search workspace symbols.
nnoremap <silent> <space>s  :<C-u>CocList -I symbols<cr>
" Do default action for next item.
nnoremap <silent> <space>j  :<C-u>CocNext<CR>
" Do default action for previous item.
nnoremap <silent> <space>k  :<C-u>CocPrev<CR>
" Resume latest coc list.
nnoremap <silent> <space>p  :<C-u>CocListResume<CR>
'''

# js æ§‹æ–‡è§£æã‚’ã—ã¦ãƒã‚¤ãƒ©ã‚¤ãƒˆ
# [[plugins]]
# repo = 'neovim/node-host'
# hook_post_update = '''
#   let g:dein#plugin.build = 'npm install'
# '''

# [[plugins]]
# repo = 'billyvg/tigris.nvim'
# on_ft = ['javascript', 'javascript.jsx']
# hook_post_update = '''
#   let g:dein#plugin.build = './install.sh'
#
#   # ã‚ªãƒ³ã‚¶ãƒ•ãƒ©ã‚¤ã§æ§‹æ–‡è§£æã—ã¦ãƒã‚¤ãƒ©ã‚¤ãƒˆ
#   let g:tigris#enabled = 1
#   let g:tigris#on_the_fly_enabled = 1
#   let g:tigris#delay = 300
# '''

 [[plugins]]
 repo = 'alvan/vim-closetag'
 hook_add = '''
 let g:closetag_filenames = '*.html,*.vue,*.js,*.jsx'
 '''

 # ç›®çš„ã®è¡Œã«ç´ æ—©ãç§»å‹•
 [[plugins]]
 repo = 'Lokaltog/vim-easymotion'
 hook_add = '''
 " ãƒ›ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³ã«è¿‘ã„ã‚­ãƒ¼ã‚’ä½¿ã†
let g:EasyMotion_keys='hjklasdfgyuiopqwertnmzxcvbHJKLASDFGYUIOPQWERTNMZXCVB'
" ã€Œ'ã€ + ä½•ã‹ã«ãƒãƒƒãƒ”ãƒ³ã‚°
let g:EasyMotion_leader_key="'"
" 1 ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯é¸æŠã‚’å„ªå…ˆã™ã‚‹
let g:EasyMotion_grouping=1
" ã‚«ãƒ©ãƒ¼è¨­å®šå¤‰æ›´
hi EasyMotionTarget ctermbg=none ctermfg=red
hi EasyMotionShade  ctermbg=none ctermfg=blue
 '''
